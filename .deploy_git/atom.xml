<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>BanDaobd&#39;s site</title>
  
  
  <link href="https://bandaobd.github.io/atom.xml" rel="self"/>
  
  <link href="https://bandaobd.github.io/"/>
  <updated>2023-04-22T16:06:36.821Z</updated>
  <id>https://bandaobd.github.io/</id>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>内联汇编</title>
    <link href="https://bandaobd.github.io/2023/04/23/%E5%86%85%E8%81%94%E6%B1%87%E7%BC%96/"/>
    <id>https://bandaobd.github.io/2023/04/23/%E5%86%85%E8%81%94%E6%B1%87%E7%BC%96/</id>
    <published>2023-04-22T16:03:38.000Z</published>
    <updated>2023-04-22T16:06:36.821Z</updated>
    
    <content type="html"><![CDATA[<h1>gcc-x86内联汇编</h1><p><em>基本要求看懂会写就好</em></p><p>摘自 <a href="https://www.jianshu.com/p/1782e14a0766">GCC内联汇编基础</a></p><p>基本内联汇编</p><pre><code>asm(&quot;普通汇编语句\n\t&quot;,    &quot;普通汇编语句&quot;);</code></pre><p>扩展内联汇编</p><pre><code>asm ( assembler template    : output operands                /* optional */    : input operands                   /* optional */    : list of clobbered registers   /* optional */);</code></pre><p>constraints:</p><pre><code>    rRegister(s)    a%eax, %ax, %al    b%ebx, %bx, %bl    c%ecx, %cx, %cl    d%edx, %dx, %adl    S%esi, %si    D%edi, %di</code></pre><p>这些值代表其后的寄存器，gcc会在其中选择对应的寄存器值<br>“=” 指明这个操作数是只写的，之前保存在其中的值将被废弃而被输出值所代替。<br>例如int 15中断可以这么写（寄存器地顺序按照int 15中断的要求排列）<br>:第一行从寄存器输出到变量<br>:第二行从变量输入到寄存器（注意，这里entry是个指针，把指针输入后寄存器值被写入到指针所指向的结构体）</p><pre><code>                __asm__ __volatile__                (                    &quot;int  $0x15&quot;            : &quot;=a&quot;(signature), &quot;=c&quot;(bytes), &quot;=b&quot;(contID)            : &quot;a&quot;(0xE820), &quot;b&quot;(contID), &quot;c&quot;(24), &quot;d&quot;(0x534D4150), &quot;D&quot;(entry)                );</code></pre>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;gcc-x86内联汇编&lt;/h1&gt;
&lt;p&gt;&lt;em&gt;基本要求看懂会写就好&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;摘自 &lt;a href=&quot;https://www.jianshu.com/p/1782e14a0766&quot;&gt;GCC内联汇编基础&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;基本内联汇编&lt;/p&gt;
&lt;pre&gt;</summary>
      
    
    
    
    
  </entry>
  
</feed>
